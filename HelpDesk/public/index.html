<!DOCTYPE html>
<html lang="pt-br" ng-app="helpdesk">

<head>
	<meta charset="UTF-8">
	<link rel="icon" href="img/favicon1.png" /> <!-- favicon -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> <!-- jquery script -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> <!-- bootstrap script CSS -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> <!-- bootstrap script JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script> <!-- angular script -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-messages/1.5.8/angular-messages.min.js"></script> <!-- Script do Angular Messages -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-resource/1.5.8/angular-resource.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/animsition/4.0.2/js/animsition.min.js"></script> <!-- Transição entre telas -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animsition/4.0.2/css/animsition.min.css"> <!-- Transição entre telas -->
	<script src="/js/app.js"></script>
	<script src="/js/animsition.js"></script>
	<script src="/js/controllers/cadastro-controller.js"></script>
	<link rel="stylesheet" href="/css/style.css">
	<title>HelpDesk</title>
</head>

<body ng-controller="cadastroController as vm" class="animsition" data-animsition-in-class="zoom-in-sm" data-animsition-in-duration="1000" data-animsition-out-class="zoom-out-sm" data-animsition-out-duration="800">
	<nav class="navbar navbar-inverse"> <!-- Inicio da Navbar -->
		<div class="container-fluid">
			<div class="navbar-header">
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#" id="logohelpdesk"><img class="img-responsive img-logohelpdesk-menu" src="img/favicon1.png" alt="logo">&nbsp;&nbsp;HelpDesk</a>
			</div>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav">
					<li class="active"><a href="../"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>&nbsp;&nbsp;Início</a></li>
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#">Menu <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="views/consulta.html"><span class="glyphicon glyphicon-book" aria-hidden="true"></span>&nbsp;&nbsp;Relatórios</a></li>
							<li class="disabled"><a href="#"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>&nbsp;&nbsp;Informações</a></li>
							<li class="disabled"><a href="#"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span>&nbsp;&nbsp;Editor</a></li>
						</ul>
					</li>
					<li><a href="#"><span class="glyphicon glyphicon-hdd" aria-hidden="true"></span>&nbsp;&nbsp;Banco de Dados</a></li>
					<li><a href="#"><span class="glyphicon glyphicon-stats" aria-hidden="true"></span>&nbsp;&nbsp;Estatisticas</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Sair</a></li>
				</ul>
			</div>
		</div>
	</nav> <!-- Fim da Navbar -->
	<div class="container">
		<div class="jumbotron">
			<h2>
				Cadastro de Atendimento
				<small class="text-muted">HelpDesk</small>
			</h2>
			<br>
			<form class="form" name="formulario" id="formulario" novalidate ng-submit="vm.submitForm()"> <!-- Inicio do Fomulário -->
				<div class="row">
					<div class="form-group col-sm-2">
						<label for="colaborador">Colaborador</label>
						<br>
						<select class="form-control" name="colaborador" id="colaborador" ng-model="vm.cadastro.colaborador" ng-class="formulario.colaborador.$invalid && formulario.colaborador.$touched ? 'alteraFocoErro' : ''" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
							<option>Adriano</option>
							<option>Iana</option>
							<option>Julia</option>
							<option>Pedro</option>
							<option>Vinicius</option>
							<option>Ygor</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="data">Data</label>
						<br>
						<input class="form-control" name="data" id="data" type="date" ng-model="vm.cadastro.data" ng-class="formulario.data.$invalid && formulario.data.$touched ? 'alteraFocoErro' : ''" ng-required="true">
					</div>
					<div class="form-group col-sm-2">
						<label for="idAluno">ID Aluno</label>
						<br>
						<input class="form-control" name="idAluno" id="idAluno" type="number" ng-model="vm.cadastro.idAluno" ng-class="formulario.idAluno.$invalid && formulario.idAluno.$touched ? 'alteraFocoErro' : ''" ng-required="true" ng-minlength="4" ng-maxlength="7">
						<div class="mensagem-validacao" ng-messages="formulario.idAluno.$error" ng-show="formulario.idAluno.$dirty" role="alert">
							<div ng-message="minlength">Curto demais</div>
							<div ng-message="maxlength">Longo demais</div>
						</div>
					</div>
					<div class="form-group col-sm-2">
						<label for="entrada">Entrada</label>
						<br>
						<select class="form-control" name="entrada" id="entrada" ng-model="vm.cadastro.entrada" ng-class="formulario.entrada.$invalid && formulario.entrada.$touched ? 'alteraFocoErro' : ''" ng-options="obj.valor as obj.nome for obj in vm.entrada | orderBy: 'nome'" ng-change="vm.limpaIdFreshdesk()" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="idFreshdesk">ID FreshDesk</label>
						<br>
						<input class="form-control" name="idFreshdesk" id="idFreshdesk" type="number" ng-model="vm.cadastro.idFreshdesk" ng-class="formulario.idFreshdesk.$invalid && formulario.idFreshdesk.$touched ? 'alteraFocoErro' : ''" ng-disabled="vm.cadastro.entrada != 'Freshdesk'" ng-required="vm.cadastro.entrada == 'Freshdesk'" ng-minlength="4" ng-maxlength="7">
						<div class="mensagem-validacao" ng-messages="formulario.idFreshdesk.$error" ng-show="formulario.idFreshdesk.$dirty" role="alert">
							<div ng-message="minlength">Curto demais</div>
							<div ng-message="maxlength">Longo demais</div>
						</div>
					</div>
					<div class="form-group col-sm-2">
						<label for="aplicacao">Aplicação</label>
						<br>
						<select class="form-control" name="aplicacao" id="aplicacao" ng-model="vm.cadastro.aplicacao" ng-class="formulario.aplicacao.$invalid && formulario.aplicacao.$touched ? 'alteraFocoErro' : ''" ng-options="obj.valor as obj.nome for obj in vm.aplicacao | orderBy: 'nome'" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
						</select>
					</div>
				</div> <!-- Fim da linha -->
				<br>
				<div class="row"> <!-- Inicio da linha -->
					<div class="form-group col-sm-2">
						<label for="device">Device</label>
						<br>
						<select class="form-control" name="device" id="device" ng-model="vm.cadastro.device" ng-class="formulario.device.$invalid && formulario.device.$touched ? 'alteraFocoErro' : ''" ng-options="obj.nome for obj in vm.devices[vm.cadastro.aplicacao] | orderBy: 'nome'" ng-required="true">
							<option disabled selected value>Selecione a aplicação</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="problema">Problema</label>
						<br>
						<input class="form-control" name="problema" id="problema" type="text" ng-model="vm.cadastro.problema" ng-class="formulario.problema.$invalid && formulario.problema.$touched ? 'alteraFocoErro' : ''" ng-required="true" ng-minlenght="4" ng-maxlenght="255">
					</div>
					<div class="form-group col-sm-2">
						<label for="recorrente">Recorrente?</label>
						<br>
						<select class="form-control" name="recorrente" id="recorrente" ng-model="vm.cadastro.recorrente" ng-class="formulario.recorrente.$invalid && formulario.recorrente.$touched ? 'alteraFocoErro' : ''" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
							<option value="true">Sim</option>
							<option value="false">Não</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="origem">Origem</label>
						<br>
						<select class="form-control" name="origem" id="origem" ng-model="vm.cadastro.origem" ng-class="formulario.origem.$invalid && formulario.origem.$touched ? 'alteraFocoErro' : ''" ng-options="obj.valor as obj.nome for obj in vm.origem | orderBy: 'nome'" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="abriuDemanda">Abriu Demanda?</label>
						<br>
						<select class="form-control" name="abriuDemanda" id="abriuDemanda" ng-model="vm.cadastro.abriuDemanda" ng-class="formulario.abriuDemanda.$invalid && formulario.abriuDemanda.$touched ? 'alteraFocoErro' : ''" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
							<option value="true">Sim</option>
							<option value="false">Não</option>
						</select>
					</div>
					<div class="form-group col-sm-2">
						<label for="status">Status</label>
						<br>
						<select class="form-control" name="status" id="status" ng-model="vm.cadastro.status" ng-class="formulario.status.$invalid && formulario.status.$touched ? 'alteraFocoErro' : ''" ng-options="obj.valor as obj.nome for obj in vm.status | orderBy: 'nome'" ng-required="true">
							<option disabled selected value>Selecione uma opção</option>
						</select>
					</div>
				</div> <!-- Fim da linha -->
				<div class="row"> <!-- Inicio da linha -->
					<div class="form-group col-sm-4">
						<label for="diagnostico">Diagnóstico</label>
						<br>
						<textarea class="form-control" name="diagnostico" id="diagnostico" rows="2" placeholder="Razão de ter ocorrido o problema (por que esse problema ocorreu?)" ng-model="vm.cadastro.diagnostico" ng-class="formulario.diagnostico.$invalid && formulario.diagnostico.$touched ? 'alteraFocoErro' : ''" ng-required="true"></textarea>
					</div>
					<div class="form-group col-sm-4">
						<label for="resposta">Resposta</label>
						<br>
						<textarea class="form-control" name="resposta" id="resposta" rows="2" placeholder="Sua solução ou resposta para o aluno" ng-model="vm.cadastro.resposta" ng-class="formulario.resposta.$invalid && formulario.resposta.$touched ? 'alteraFocoErro' : ''" ng-required="true"></textarea>
					</div>
					<div class="form-group col-sm-4">
						<label for="observacao">Observações</label>
						<br>
						<textarea class="form-control" name="observacao" id="observacao" rows="2" placeholder="Informações adicionais sobre o atendimento" ng-model="vm.cadastro.observacao" ng-class="formulario.observacao.$invalid && formulario.observacao.$touched ? 'alteraFocoErro' : ''"></textarea>
					</div>
				</div> <!-- Fim da linha -->
				<br>
				<div class="btns">
					<button class="btn btn-success" type="submit" ng-disabled="!formulario.$valid"><span class="glyphicon glyphicon-send" aria-hidden="true"></span>&nbsp;&nbsp;Enviar</button>
					<button class="btn btn-primary" type="reset" ng-click="vm.limpaCampos()"><span class="glyphicon glyphicon-erase" aria-hidden="true"></span>&nbsp;&nbsp;Limpar</button>
				</div>
			</form> <!-- Fim do Fomulário -->
		</div> <!-- Fim da Jumbotron -->
	</div> <!-- Fim da Container -->
</body>

</html>
